import{s as M,n as N,r as V}from"../chunks/scheduler.C9xG8wYf.js";import{S as z,i as R,e as m,s as I,c as v,a as H,k as j,f as C,d as E,l as c,g as q,h as p,o as w,p as D,q as U,t as B,b as A,j as F}from"../chunks/index.qm__v8Ou.js";import{g as G}from"../chunks/entry.DPijoe0a.js";function O(r){let e,s;return{c(){e=m("div"),s=B(r[2]),this.h()},l(a){e=v(a,"DIV",{class:!0});var n=H(e);s=A(n,r[2]),n.forEach(E),this.h()},h(){c(e,"class","error-message")},m(a,n){q(a,e,n),p(e,s)},p(a,n){n&4&&F(s,a[2])},d(a){a&&E(e)}}}function J(r){let e,s,a='<img src="/PartyHunterLogo.png" alt="Party Hunter Logo" style="width: 300px; height: auto; object-fit: cover;"/>',n,d,_="LOGE DICH HIER EIN",y,i,u,b,t,g,h,L="Login",P,T,S,l=r[2]&&O(r);return{c(){e=m("div"),s=m("div"),s.innerHTML=a,n=I(),d=m("div"),d.textContent=_,y=I(),i=m("form"),u=m("input"),b=I(),t=m("input"),g=I(),h=m("button"),h.textContent=L,P=I(),l&&l.c(),this.h()},l(f){e=v(f,"DIV",{class:!0});var o=H(e);s=v(o,"DIV",{class:!0,"data-svelte-h":!0}),j(s)!=="svelte-4i2b76"&&(s.innerHTML=a),n=C(o),d=v(o,"DIV",{class:!0,"data-svelte-h":!0}),j(d)!=="svelte-hjcf1m"&&(d.textContent=_),y=C(o),i=v(o,"FORM",{class:!0});var k=H(i);u=v(k,"INPUT",{class:!0,type:!0,placeholder:!0}),b=C(k),t=v(k,"INPUT",{class:!0,type:!0,placeholder:!0}),g=C(k),h=v(k,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(h)!=="svelte-avxlee"&&(h.textContent=L),k.forEach(E),P=C(o),l&&l.l(o),o.forEach(E),this.h()},h(){c(s,"class","logo svelte-1cku7of"),c(d,"class","subtitle svelte-1cku7of"),c(u,"class","input svelte-1cku7of"),c(u,"type","text"),c(u,"placeholder","Benutzername"),u.required=!0,c(t,"class","input svelte-1cku7of"),c(t,"type","password"),c(t,"placeholder","Passwort"),t.required=!0,c(h,"class","button svelte-1cku7of"),c(h,"type","submit"),c(i,"class","form svelte-1cku7of"),c(e,"class","container svelte-1cku7of")},m(f,o){q(f,e,o),p(e,s),p(e,n),p(e,d),p(e,y),p(e,i),p(i,u),w(u,r[0]),p(i,b),p(i,t),w(t,r[1]),p(i,g),p(i,h),p(e,P),l&&l.m(e,null),T||(S=[D(u,"input",r[5]),D(t,"input",r[6]),D(h,"keypress",r[4]),D(i,"submit",U(r[3]))],T=!0)},p(f,[o]){o&1&&u.value!==f[0]&&w(u,f[0]),o&2&&t.value!==f[1]&&w(t,f[1]),f[2]?l?l.p(f,o):(l=O(f),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:N,o:N,d(f){f&&E(e),l&&l.d(),T=!1,V(S)}}}function K(r,e,s){let a="",n="",d="",_="";const y=async()=>{if(a&&n){const t=await fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:n})});if(t.ok)d=t.headers.get("Authorization"),d&&sessionStorage.setItem("jwt",d),sessionStorage.setItem("username",a),G("/events");else if(t.status==409){const g=await t.json();s(2,_=g.message)}else{const g=await t.json();s(2,_="Error: "+g.message)}}else s(2,_="Es fehlen Daten, um sich einzulogen")};function i(t){t.key==="Enter"&&y()}function u(){a=this.value,s(0,a)}function b(){n=this.value,s(1,n)}return[a,n,_,y,i,u,b]}class X extends z{constructor(e){super(),R(this,e,K,J,M,{})}}export{X as component};
