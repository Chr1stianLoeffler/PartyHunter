import{s as R,n as M,r as V}from"../chunks/scheduler.C9xG8wYf.js";import{S as z,i as A,e as v,s as b,c as _,a as j,k as S,f as C,d as P,l as i,g as H,h as f,o as T,p as w,q as B,t as F,b as J,j as K}from"../chunks/index.qm__v8Ou.js";import{g as G}from"../chunks/entry.DPijoe0a.js";function O(o){let e,t;return{c(){e=v("div"),t=F(o[3]),this.h()},l(a){e=_(a,"DIV",{class:!0});var l=j(e);t=J(l,o[3]),l.forEach(P),this.h()},h(){i(e,"class","error-message")},m(a,l){H(a,e,l),f(e,t)},p(a,l){l&8&&K(t,a[3])},d(a){a&&P(e)}}}function Q(o){let e,t,a='<img src="/PartyHunterLogo.png" alt="Party Hunter Logo" style="width: 300px; height: auto; object-fit: cover;"/>',l,d,q="ERSTELLE EINEN NEUEN ACCOUNT",g,r,c,I,h,N,s,E,m,L="Registrieren",k,D,U,n=o[3]&&O(o);return{c(){e=v("div"),t=v("div"),t.innerHTML=a,l=b(),d=v("div"),d.textContent=q,g=b(),r=v("form"),c=v("input"),I=b(),h=v("input"),N=b(),s=v("input"),E=b(),m=v("button"),m.textContent=L,k=b(),n&&n.c(),this.h()},l(u){e=_(u,"DIV",{class:!0});var p=j(e);t=_(p,"DIV",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-4i2b76"&&(t.innerHTML=a),l=C(p),d=_(p,"DIV",{class:!0,"data-svelte-h":!0}),S(d)!=="svelte-12hla44"&&(d.textContent=q),g=C(p),r=_(p,"FORM",{class:!0});var y=j(r);c=_(y,"INPUT",{class:!0,type:!0,placeholder:!0}),I=C(y),h=_(y,"INPUT",{class:!0,type:!0,placeholder:!0}),N=C(y),s=_(y,"INPUT",{class:!0,type:!0,placeholder:!0}),E=C(y),m=_(y,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),S(m)!=="svelte-nhkwhq"&&(m.textContent=L),y.forEach(P),k=C(p),n&&n.l(p),p.forEach(P),this.h()},h(){i(t,"class","logo svelte-1flyqid"),i(d,"class","subtitle svelte-1flyqid"),i(c,"class","input svelte-1flyqid"),i(c,"type","text"),i(c,"placeholder","Benutzername"),c.required=!0,i(h,"class","input svelte-1flyqid"),i(h,"type","email"),i(h,"placeholder","E-Mail"),h.required=!0,i(s,"class","input svelte-1flyqid"),i(s,"type","password"),i(s,"placeholder","Passwort"),s.required=!0,i(m,"class","button svelte-1flyqid"),i(m,"type","submit"),i(r,"class","form svelte-1flyqid"),i(e,"class","container svelte-1flyqid")},m(u,p){H(u,e,p),f(e,t),f(e,l),f(e,d),f(e,g),f(e,r),f(r,c),T(c,o[0]),f(r,I),f(r,h),T(h,o[1]),f(r,N),f(r,s),T(s,o[2]),f(r,E),f(r,m),f(e,k),n&&n.m(e,null),D||(U=[w(c,"input",o[6]),w(h,"input",o[7]),w(s,"input",o[8]),w(m,"keypress",o[5]),w(r,"submit",B(o[4]))],D=!0)},p(u,[p]){p&1&&c.value!==u[0]&&T(c,u[0]),p&2&&h.value!==u[1]&&T(h,u[1]),p&4&&s.value!==u[2]&&T(s,u[2]),u[3]?n?n.p(u,p):(n=O(u),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:M,o:M,d(u){u&&P(e),n&&n.d(),D=!1,V(U)}}}function W(o,e,t){let a="",l="",d="",q,g="";const r=async()=>{if(a&&l&&d){const s=await fetch("/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,accountEmail:l,password:d})});if(s.ok)q=s.headers.get("Authorization"),q&&(sessionStorage.setItem("jwt",q),sessionStorage.setItem("username",a),G("/events"));else if(s.status==409){const E=await s.json();t(3,g=E.message)}else{const E=await s.json();t(3,g="Error: "+E.message)}}else t(3,g="Es fehlen Daten, um sich zu registrieren")};function c(s){s.key==="Enter"&&r()}function I(){a=this.value,t(0,a)}function h(){l=this.value,t(1,l)}function N(){d=this.value,t(2,d)}return[a,l,d,g,r,c,I,h,N]}class x extends z{constructor(e){super(),A(this,e,W,Q,R,{})}}export{x as component};
